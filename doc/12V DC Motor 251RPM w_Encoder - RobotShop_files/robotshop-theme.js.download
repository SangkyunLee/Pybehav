/*!
* Robotshop Theme
* Manages Magento theme user experience
*/var robotshopTheme={};robotshopTheme.jQuery=window.jQuery.noConflict();robotshopTheme.$window=robotshopTheme.jQuery(window);robotshopTheme.window=window;robotshopTheme.$document=robotshopTheme.jQuery(document);robotshopTheme.document=document;robotshopTheme.$document.ready(function(){robotshopTheme.$html=robotshopTheme.jQuery('html');robotshopTheme.$body=robotshopTheme.jQuery('body');});/*!
* jQuery GA Event Tracker
* Examples and documentation at: http://ga-event-tracker.wmxtools.com
* Copyright (c) 2014 Derek Cavaliero
* Version: 1.2 (10-SEPT-2014)
* Requires: jQuery v1.4.3 or later
*
* Reworked to be usable with modern datalayer by rlortie@robotshop (7-MARCH-2017)
*/;(function($){$.fn.gatrack=function(options){var defaults={'category':'Tracked Element','action':'Clicked','label':location.pathname,'value':0,'nonint':true,'delay':true,'delay_timeout':100,'trigger':'click','ga_type':'datalayer','debug':{'type':'console','status':false}};var settings=$.extend({},defaults,options);return this.each(function(i,elem){var $this=$(this);if(($this.data('ga-nonint')!=undefined)&&($this.data('ga-nonint')!=settings.nonint)){nonint=$this.data('ga-nonint');}else{nonint=settings.nonint;}
if(($this.data('ga-delay')!=undefined)&&($this.data('ga-delay')!=settings.delay)){delay=$this.data('ga-delay');}else{delay=settings.delay;}
var eventvalues={'category':$this.data('ga-category')?$this.data('ga-category'):settings.category,'action':$this.data('ga-action')?$this.data('ga-action'):settings.action,'label':$this.data('ga-label')?$this.data('ga-label'):settings.label,'value':$this.data('ga-value')?$this.data('ga-value'):settings.value,'nonint':nonint,'delay':delay,'ga_type':$this.data('ga-type')?$this.data('ga-type'):settings.ga_type,'link':$this.attr('href')?$this.attr('href'):false,'trigger':$this.data('ga-trigger')?$this.data('ga-trigger'):settings.trigger}
$this.on(eventvalues.trigger,function(e){if(eventvalues.delay){e.preventDefault();}
trackEvent($this,eventvalues,e);switch(eventvalues.trigger){case 'click':if(eventvalues.link){if(eventvalues.delay){setTimeout(function(){document.location.href=eventvalues.link;},settings.delay_timeout);}}
break;}
if(settings.debug.status){var debugString='\nTrigger Action: '+eventvalues.trigger+
'\nCategory: '+eventvalues.category+
'\nAction: '+eventvalues.action+
'\nLabel: '+eventvalues.label+
'\nValue: '+eventvalues.value+
'\nNon-Interaction: '+eventvalues.nonint+
'\nDelay: '+eventvalues.delay+
'\nDelay Length: '+settings.delay_timeout+' milliseconds'+
'\nGA Type: '+eventvalues.ga_type+
'\nLink Value: '+eventvalues.link;switch(settings.debug.type){case 'alert':alert(debugString);break;case 'console':default:console.log(debugString);break;}}});});function trackEvent(obj,eventvalues,e){var sendBeacon=function(type){switch(type){case 'datalayer':dataLayer.push({event:'rb_tracking',eventAction:eventvalues.action,eventCategory:eventvalues.category,eventLabel:eventvalues.label,eventValue:eventvalues.value,});break;case 'classic':var _gaq=_gaq||[];_gaq.push(['_trackEvent',eventvalues.category,eventvalues.action,eventvalues.label,eventvalues.value,eventvalues.nonint]);break;case 'universal':ga('send','event',eventvalues.category,eventvalues.action,eventvalues.label,eventvalues.value,{'nonInteraction':eventvalues.nonint});break;}};switch(eventvalues.ga_type){case 'all':sendBeacon('classic');sendBeacon('universal');break;case 'universal':sendBeacon('universal');break;case 'datalayer':sendBeacon('datalayer');break;case 'classic':default:sendBeacon('classic');break;}}};}(window.jQuery.noConflict()));robotshopTheme.helpers=(function(window,document,$){var public={},local={},helpers={};public.getDevice=function(){var width=public.getTrueWidth();var device="";if(public.matchMedia('(min-width: 1699px)').matches){device='xxl-desktop';}
else if(public.matchMedia('(min-width: 1528px)').matches){device='xl-desktop';}
else if(public.matchMedia('(min-width: 1200px)').matches){device='l-desktop';}
else if(public.matchMedia('(min-width: 1023px)').matches){device='desktop';}
else if(public.matchMedia('(min-width: 767px)').matches){device='tablet';}
else if(public.matchMedia('(min-width: 479px)').matches){device='l-mobile';}
else{device='mobile'}
return device;}
public.isMobile=function(){var device=public.getDevice();if(device=='mobile'||device=='l-mobile'||device=='tablet'){return true;}
return false;}
public.isIE8=function(){if(robotshopTheme.$body.hasClass('ie8')||robotshopTheme.$html.hasClass('ie8')){return true;}
return false;}
public.isIE=function(){if(robotshopTheme.$body.hasClass('ie')||robotshopTheme.$html.hasClass('ie')){return true;}
return false;}
public.isDesktop=function(){var device=public.getDevice();if(device=='desktop'||device=='l-desktop'||device=='xl-desktop'||device=='xxl-desktop'){return true;}
return false;}
public.bodyHasClass=function(selector){return robotshopTheme.$body.hasClass(selector);}
public.getCurrentPage=function(){if(local.currentPage){return local.currentPage;}else{var currentPage='';if(public.bodyHasClass('robotshop-content-homepage-index')){currentPage='home';}
if(public.bodyHasClass('catalog-category-view')){currentPage='category';}
if(public.bodyHasClass('catalog-product-view')){currentPage='product';}
if(public.bodyHasClass('checkout-cart-index')){currentPage='cart';}
if(public.bodyHasClass('cms-page-view')){currentPage='cms';}
if(public.bodyHasClass('checkout-onepage-index')){currentPage='checkout';}
local.currentPage=currentPage;return currentPage;}}
public.getViewportOffset=function($e){var $window=robotshopTheme.$window,scrollLeft=$window.scrollLeft(),scrollTop=$window.scrollTop(),offset=$e.offset(),rect1={x1:scrollLeft,y1:scrollTop,x2:scrollLeft+$window.width(),y2:scrollTop+$window.height()},rect2={x1:offset.left,y1:offset.top,x2:offset.left+$e.width(),y2:offset.top+$e.height()};return{top:offset.top-scrollTop,right:offset.top-scrollTop+$e.outerWidth(),bottom:offset.top-scrollTop+$e.outerHeight(),left:offset.left-scrollLeft,insideViewport:rect1.x1<rect2.x2&&rect1.x2>rect2.x1&&rect1.y1<rect2.y2&&rect1.y2>rect2.y1};}
public.heightsEqualizer=function(selector){var elements=document.querySelectorAll(selector),max_height=0,len=0,i;var window_height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if((elements)&&(elements.length>0)){len=elements.length;for(i=0;i<len;i++){elements[i].style.height='';if(elements[i].clientHeight>max_height){max_height=Math.round(elements[i].clientHeight);}}
if(max_height>window_height*2){max_height=0;}
for(i=0;i<len;i++){if(max_height==0){elements[i].style.height='inherit';}else{elements[i].style.height=max_height+'px';}}}};public.throttle=function(callback,limit){var wait=false;return function(){if(!wait){callback.call();wait=true;setTimeout(function(){wait=false;},limit);}}};public.getTrueWidth=function(){return(robotshopTheme.$window.width()+public.getScrollBarWidth());}
public.getScrollBarWidth=function(){if(robotshopTheme.$document.height()>robotshopTheme.$window.height()){robotshopTheme.$body.append('<div id="fakescrollbar" style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"></div>');fakeScrollBar=$('#fakescrollbar');fakeScrollBar.append('<div style="height:100px;">&nbsp;</div>');var w1=fakeScrollBar.find('div').innerWidth();fakeScrollBar.css('overflow-y','scroll');var w2=$('#fakescrollbar').find('div').html('html is required to init new width.').innerWidth();fakeScrollBar.remove();return(w1-w2);}};/*!matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license*/public.matchMedia=function(){"use strict";if(!window.matchMedia){var styleMedia=(window.styleMedia||window.media);if(!styleMedia){var style=document.createElement('style'),script=document.getElementsByTagName('script')[0],info=null;style.type='text/css';style.id='matchmediajs-test';if(!script){document.head.appendChild(style);}else{script.parentNode.insertBefore(style,script);}
info=('getComputedStyle'in window)&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text='@media '+media+'{ #matchmediajs-test { width: 1px; } }';if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}
return info.width==='1px';}};}}
return function(media){if(window.matchMedia){return window.matchMedia(media);}else{return{matches:styleMedia.matchMedium(media||'all'),media:media||'all'};}};}();return public;})(robotshopTheme.window,robotshopTheme.document,robotshopTheme.jQuery);robotshopTheme.accordions=function(context){var window=context.window;var document=context.document;var $=context.$;var public={},local={},helpers={};helpers.cacheSelectors=function(){local.$accordions=$(".rb-accordion-header");local.accordionsSelector=".rb-accordion-header";}
var initAccordions=function(){robotshopTheme.$body.on('click',local.accordionsSelector,function(event){event.preventDefault();var $this=$(this);var $next=$this.next();$this.toggleClass('closed');if($this.hasClass('closed')){$next.css('cssText','display: none !important');}else{$next.css('cssText','display: block !important');}});}
var init=function(){helpers.cacheSelectors();if(local.$accordions.length){initAccordions();}}
robotshopTheme.$document.ready(function(){init();});return public;};robotshopTheme.popup=function(context){var window=context.window;var document=context.document;var $=context.$;var public={},local={},helpers={};helpers.cacheSelectors=function(){}
var initPopup=function(){robotshopTheme.$body.on('click',"[data-popup-link]",function(event){event.preventDefault();var $popup=$('[data-popup][data-popup-id="'+$(this).attr('data-popup-id')+'"]');$popup.show();$popup.find('[data-accept-button]').attr('href',$(this).attr('href'));$('[data-popup-overlay]').show();local.positionPopup($popup);});robotshopTheme.$body.on('click',"[data-popup-close]",function(){$('[data-popup]').hide();$('[data-popup-overlay]').hide();});robotshopTheme.$body.on("click","[data-disable-after-click]",function(e){if(robotshopTheme.jQuery(this).attr("disabled")=="disabled")
{e.preventDefault();return false;}
else
{robotshopTheme.jQuery(this).attr("disabled","disabled");robotshopTheme.jQuery(this).css("cursor","wait");robotshopTheme.jQuery(this).css("opacity","0.5");}});}
local.positionPopup=function($popup){var popup=$popup;var windowsHeight=$(window).height();var height=$popup.prop('scrollHeight');var heightToSet;if(windowsHeight<height){heightToSet=windowsHeight+'px';}
else{heightToSet='auto';}
var marginRequired=-(heightToSet/2);popup.css('height',heightToSet);popup.css('top','50%');popup.css('margin-top',marginRequired);}
var init=function(){helpers.cacheSelectors();initPopup();}
robotshopTheme.$document.ready(function(){init();});return public;};robotshopTheme.home=function(context){var window=context.window;var document=context.document;var $=context.$;var public={},local={},helpers={};var equalizeTagLines=function(){if($('.homeTaglines .item').is(":visible")){robotshopTheme.helpers.heightsEqualizer('.homeTaglines .item');}}
var initTagLines=function(){local.$homeTagLines=$('.homeTaglines');if(local.$homeTagLines.length){equalizeTagLines();robotshopTheme.$window.on("resize",robotshopTheme.helpers.throttle(equalizeTagLines,100));}}
var equalizeSubcatsLinks=function(){robotshopTheme.helpers.heightsEqualizer('.homeCategoriesWrapper > li, .homeCategoriesWrapper > div');}
var initSubcatsLinks=function(){local.$subCategoriesBlock=$('.homeCategoriesWrapper');if(local.$subCategoriesBlock.length){equalizeSubcatsLinks();robotshopTheme.$window.on("resize",robotshopTheme.helpers.throttle(equalizeSubcatsLinks,100));}}
var init=function(){initSubcatsLinks();initTagLines();}
robotshopTheme.$document.ready(function(){init();});return public;};robotshopTheme.category=function(context){var window=context.window;var document=context.document;var $=context.$;var public={},local={},helpers={};var doStickyShortcutLink=function(){var el=local.$categoryShortcut;var containerOffset=el.offset().top-robotshopTheme.$document.scrollTop();var linkOffset=(local.$categoryShortcutLink.offset().top+local.$categoryShortcutLink.outerHeight());var pageOffset=($('.main').offset().top+$('.main').outerHeight());if(linkOffset>pageOffset){local.$categoryShortcutLink.css({visibility:'hidden'});}else{if(containerOffset<0){local.$categoryShortcutLink.css({position:'fixed',left:'15px',top:'15px',visibility:'visible'});}else{local.$categoryShortcutLink.css({position:'static',visibility:'hidden'});}}
local.$categoryShortcutLink.css({width:local.$categoryShortcut.width()});}
var initShortcutLink=function(){local.$categoryShortcut=$('.to-category-shortcut');if(local.$categoryShortcut.length){local.$categoryShortcutLink=$('.to-category-shortcut').find('a');doStickyShortcutLink();robotshopTheme.$window.on("scroll",robotshopTheme.helpers.throttle(doStickyShortcutLink,100));local.$categoryShortcutLink.on('click',function(e){e.preventDefault();$('html,body').animate({scrollTop:$('.block-layered-nav').offset().top-15});});}}
var equalizeSubcatsLinks=function(){robotshopTheme.helpers.heightsEqualizer('.subCategoriesWrapper li');}
var initSubcatsLinks=function(){local.$subCategoriesBlock=$('.subCategoriesWrapper');if(local.$subCategoriesBlock.length){equalizeSubcatsLinks();robotshopTheme.$window.on("resize",robotshopTheme.helpers.throttle(equalizeSubcatsLinks,100));}}
var init=function(){initShortcutLink();}
robotshopTheme.$document.ready(function(){init();});return public;};robotshopTheme.product=function(context){var window=context.window;var document=context.document;var $=context.$;var public={},options={'doStickyCartButton':false},local={},helpers={};var initBuyGroupedCheckboxe=function(){var $boxTogether=$('.boxBuyGroupedByCheckbox');var $boughtTogetherItems=$boxTogether.find('li.item');var $checkBoxes=$boxTogether.find("input[type=checkbox]");if($boughtTogetherItems.length){$boughtTogetherItems.mouseenter(function(event){var $target=$(event.target);var $this=$(this);$this.addClass('hover');}).mouseleave(function(event){var $target=$(event.target);var $this=$(this);$this.removeClass('hover');});$boughtTogetherItems.find('a').mouseenter(function(event){var $target=$(event.target);var $this=$(this);var $item=$(this).closest('.item');$item.removeClass('hover').addClass('hoverLink');}).mouseleave(function(event){var $target=$(event.target);var $this=$(this);var $item=$(this).closest('.item');$item.addClass('hover').removeClass('hoverLink');});$boughtTogetherItems.on('click',function(event){var $target=$(event.target);var $this=$(this);var $input=$this.find('input');if(!$target.is('a')&&!$target.is('input')){$this.find('input').click().trigger('change');}});$checkBoxes.on('change',function(event){var $this=$(this);var itemId=$(this).attr('value');if($this.is(":checked")){$(this).closest('li').addClass('active');}else{$(this).closest('li').removeClass('active');}
if($(this).closest('#tabsProductPage').length){window.addTogetherToProduct();}
if($(this).closest('#relatedRelatedTab').length){window.addRelatedToProduct();}});var doEqualizers=function(){if($('.boxTogether').length){robotshopTheme.helpers.heightsEqualizer('#tabsProductPage .boxTogether .box-content li h3');robotshopTheme.helpers.heightsEqualizer('#tabsProductPage .boxTogether .box-content li .price-box');setTimeout(function(){robotshopTheme.helpers.heightsEqualizer('#tabsProductPage .boxTogether .box-content li');},111);setTimeout(function(){var maxItemHeight=$('#tabsProductPage .boxTogether .box-content li').height();if($('#tabsProductPage .simply-scroll').height()<maxItemHeight){$('#tabsProductPage .simply-scroll-clip').height(maxItemHeight);$('#tabsProductPage .product-collapsable_gallery').height(maxItemHeight);$('#tabsProductPage .simply-scroll').height(maxItemHeight);}},222);}
if($('.box-related-tab').length){robotshopTheme.helpers.heightsEqualizer('#relatedRelatedTab .box-related-tab .box-content li h3');robotshopTheme.helpers.heightsEqualizer('#relatedRelatedTab .box-related-tab .box-content li .price-box');setTimeout(function(){robotshopTheme.helpers.heightsEqualizer('#relatedRelatedTab .box-related-tab .box-content li');},111);setTimeout(function(){var maxItemHeight=$('#relatedRelatedTab .box-related-tab .box-content li').height();if($('#relatedRelatedTab .simply-scroll').height()<maxItemHeight){$('#relatedRelatedTab .simply-scroll-clip').height(maxItemHeight);$('#relatedRelatedTab .product-collapsable_gallery').height(maxItemHeight);$('#relatedRelatedTab .simply-scroll').height(maxItemHeight);}},222);}}
robotshopTheme.$window.on("lazyLoadAfterLoad",function(event,element){doEqualizers();});robotshopTheme.$window.on("resize",robotshopTheme.helpers.throttle(function(){doEqualizers();},50));}}
var doStickyPriceBox=function(){var $wrapper=local.$priceBoxParent;var $priceBox=local.$priceBox;if(robotshopTheme.helpers.getDevice()=='xxl-desktop'){var containerOffset=$wrapper.offset().top-robotshopTheme.$document.scrollTop();if(containerOffset<0){if(!local.$priceBox.hasClass('sticky')){local.$priceBox.css({position:'fixed',right:'10px',top:'0',visibility:'visible'}).addClass('sticky');}}else{if(local.$priceBox.hasClass('sticky')){local.$priceBox.css({position:'static'}).removeClass('sticky');}}}else{local.$priceBox.css({position:'static'}).removeClass('sticky');}}
var initPriceBoxSticky=function(){robotshopTheme.$body.addClass('sticky-cart-area');local.$priceBoxParent=$('.productColBox');local.$priceBox=$('.productRightCol');if(local.$priceBox){doStickyPriceBox();robotshopTheme.$window.on("resize",robotshopTheme.helpers.throttle(doStickyPriceBox,50));robotshopTheme.$window.on("scroll",robotshopTheme.helpers.throttle(doStickyPriceBox,50));}}
public.forcePriceBoxSticky=function(){initPriceBoxSticky();};var initContentViewMore=function(){local.$leftContentCol=$(".product-collateralContainer .aboutMainBoxLeft");local.$rightContentCol=$(".product-collateralContainer .aboutMainBoxRight");local.$aboutContent=local.$leftContentCol.find('.BoxDescription .aboutContent');local.$btnShowMoreDescription=local.$leftContentCol.find('.btn-show-extra');if(robotshopTheme.helpers.isDesktop()){var leftColHeight=local.$leftContentCol.outerHeight();var rightColHeight=local.$rightContentCol.outerHeight();var descriptionHeight=local.$aboutContent.outerHeight();var maxHeight=rightColHeight-(leftColHeight-descriptionHeight);if(leftColHeight>rightColHeight){if(descriptionHeight>=1000){local.$aboutContent.addClass('hide-extra');if(maxHeight>=500){local.$aboutContent.css('maxHeight',maxHeight);}}}}
local.$btnShowMoreDescription.on('click',function(event){event.preventDefault();$(this).fadeOut();local.$aboutContent.removeClass('hide-extra').css('maxHeight','');});}
var initReviewsViewMore=function(){local.$reviewsList=$('#product-reviews-list');local.$btnShowMoreReviews=local.$reviewsList.next('.btn-show-extra');if(local.$reviewsList.outerHeight()>=800){local.$reviewsList.addClass('hide-extra');local.$btnShowMoreReviews.show();}else{local.$reviewsList.removeClass('hide-extra');local.$btnShowMoreReviews.hide();}
local.$btnShowMoreReviews.on('click',function(event){event.preventDefault();$(this).fadeOut();local.$reviewsList.removeClass('hide-extra');});}
var initReviewsStarsIE8Fallback=function(){$('.rating-stars-wrapper').on('click','label',function(event){$('.rating-stars-wrapper label').removeClass('active');$(event.target).addClass('active');$(event.target).nextAll('label').addClass('active');});}
var initReviewsFiltering=function(){local.$productReviewList=$('#product-reviews-list');local.$productReviews=local.$productReviewList.find('dt, dd');local.$productReviewsBreakdown=$('.review-summary-breakdown');local.$selectedReviews='';local.$selectedReviewsTitle='';local.ratingToShow='';local.$productReviewsBreakdown.on('click','.rating-summary',function(event){$this=$(this);var ratingToShow=$this.find('.rating-wrapper > div').attr('class');$('.rating-summary.active').removeClass('active');if(ratingToShow==local.ratingToShow){local.ratingToShow='';local.$productReviews.show();}else{local.ratingToShow=$this.find('.rating-wrapper > div').attr('class');$this.toggleClass('active');local.$selectedReviews=local.$productReviewList.find('.'+local.ratingToShow).closest('dd');local.$selectedReviewsTitle=local.$selectedReviews.prev('dt');local.$productReviews.hide();local.$selectedReviews.show();local.$selectedReviewsTitle.show();}
initReviewsViewMore();});}
var initProductEtaMessage=function(){local.$productAvailabilityRegion=$('.product-availability-region');if(local.$productAvailabilityRegion.length){local.$availability=local.$productAvailabilityRegion.find('.availability');local.$message=local.$productAvailabilityRegion.find('.message');local.$loader=local.$productAvailabilityRegion.find('.message-loader');local.$productAvailabilityRegion.on('click','.get-eta',function(event){event.preventDefault();local.$loader.show();local.$productAvailabilityRegion.find('.get-eta').hide();$.ajax({url:local.$availability.attr('website')+"catalog/product_ajax/index/",dataType:"json",context:this,data:{'sku':local.$availability.attr("sku"),'stockid':local.$availability.attr("stockid"),'isSO':local.$availability.attr("isso")},success:function(data){var json=$.parseJSON(data);local.$message.html(data.date).show();local.$loader.hide();}});});}}
var init=function(){if(options.doStickyCartButton){initPriceBoxSticky();}
initBuyGroupedCheckboxe();initContentViewMore();initReviewsViewMore();initReviewsFiltering();initProductEtaMessage();if(robotshopTheme.helpers.isIE8()){initReviewsStarsIE8Fallback();}}
robotshopTheme.$document.ready(function(){init();});return public;};robotshopTheme.cart=function(context){var window=context.window;var document=context.document;var $=context.$;var public={},local={},helpers={};var initEstimateShortcut=function(){robotshopTheme.$body.on('click','.estimate-shorcut',function(event){event.preventDefault();var $targetAccordion=$('#shopping-cart-estimate-box').prev('.rb-accordion-header');if($targetAccordion.hasClass('closed')){$targetAccordion.click();}
$('html, body').animate({scrollTop:$targetAccordion.offset().top},0);});}
var initQtyChangeWatcher=function(){var needRefreshArray=[];var $qtyFields=$('#shopping-cart-table input.qty');var $updateQtyBtn=$('#shopping-cart-table .btn-orange-shop-cart-update');$qtyFields.each(function(index,el){var $this=$(this);$this.attr('original-qty',$this.val());});robotshopTheme.$body.on('change','#shopping-cart-table input.qty',function(e,v){var $this=$(this);var identifier=$this.closest('tr').index();if($this.attr('original-qty')!==$this.val()){if(needRefreshArray.indexOf(identifier)<0){$this.addClass('changed');needRefreshArray.push(identifier);}}else{$this.removeClass('changed');needRefreshArray=$.grep(needRefreshArray,function(value){return value!=identifier;});}
if(needRefreshArray.length){$updateQtyBtn.show();if(robotshopTheme.helpers.isMobile()){$updateQtyBtn.show().animate({opacity:0},200).animate({opacity:1},100).animate({opacity:0},200).animate({opacity:1},100);}}else{$updateQtyBtn.hide();}});robotshopTheme.$body.on('click','.confirm-qty',function(event){event.preventDefault();$updateQtyBtn.trigger('click');});}
var init=function(){initQtyChangeWatcher();initEstimateShortcut();}
robotshopTheme.$document.ready(function(){init();});return public;};robotshopTheme.checkout=function(context){var window=context.window;var document=context.document;var $=context.$;var public={},local={},helpers={};var displayTimeoutIndicator=function(){local.timeOut=setTimeout(function(){$('.rb-timeout-watcher-indicator').show();},15000);}
var resetTimeoutIndication=function(){clearInterval(local.interval);clearTimeout(local.timeOut);$('.rb-timeout-watcher-indicator').hide();}
var initLoaderTimeoutMessageWatcher=function(){var $element=$('.rb-timeout-watcher');local.interval=setInterval(function(){if($element.is(':visible')){displayTimeoutIndicator();clearInterval(local.interval);}},1000);}
var init=function(){if($('.rb-timeout-watcher-indicator').length){$('#billing-buttons-container, #checkout-step-shipping button').on('click',function(event){resetTimeoutIndication();initLoaderTimeoutMessageWatcher();});$('#checkout-step-shipping_method button').on('click',function(event){resetTimeoutIndication();});}}
robotshopTheme.$document.ready(function(){init();});return public;};robotshopTheme.menu=function(context){var window=context.window;var document=context.document;var $=context.$;var public={},local={},helpers={};local.checkResizeWidth=0;var manageMenuClass=function(){if(robotshopTheme.helpers.isMobile()&&!robotshopTheme.$html.hasClass('ie8')&&!robotshopTheme.$body.hasClass('ie8')){$('.mainTopMenuDesktop .level2.dropdown-submenu, .mainTopMenuDesktop li.level0').die('mouseenter mouseleave');$('.Menu > ul.mainTopMenuDesktop').removeClass('mainTopMenuDesktop');$('.Menu > ul').addClass('mainTopMenuMobile')}else{$('.header-container .headerMenuIcon, .mainTopMenuMobile li.level0 .dropdown-toggle, .mainTopMenuMobile li.level1.dropdown-submenu .MobileToggle, .mainTopMenuMobile li.level2.dropdown-submenu .MobileToggle').die('click');$('.Menu > ul.mainTopMenuMobile').removeClass('mainTopMenuMobile');$('.Menu > ul').addClass('mainTopMenuDesktop')}}
var openDesktopMenu=function(row){if(robotshopTheme.helpers.isDesktop()){$(row).find('.dropdown-menu').first().show().addClass('current-open');if($('.current-open').length>1){robotshopTheme.helpers.heightsEqualizer('.current-open');}}}
var closeDesktopMenu=function(row){if(robotshopTheme.helpers.isDesktop()){$(row).find('.current-open').css({height:'auto'}).hide().removeClass('current-open');$(row).closest('.current-open').css({height:'auto'})
if($('.current-open').length>1){robotshopTheme.helpers.heightsEqualizer('.current-open');}}}
var exitDesktopMenu=function(){var doDeactivationEvent=true;return doDeactivationEvent;}
var setTopMenu=function(){$('.mainTopMenuDesktop li.level0').live({mouseenter:function(){var $elem=$(this).find('.dropdown-menu').first();$elem.show().addClass('current-open');if(robotshopTheme.helpers.isIE8()){$(this).height($(this).height()+2);$(this).height($(this).height()-1);$(this).height($(this).height()-1);}},mouseleave:function(){$(this).find('.dropdown-menu').first().hide().removeClass('current-open');if(robotshopTheme.helpers.isIE8()){$(this).height($(this).height()+2);$(this).height($(this).height()-1);$(this).height($(this).height()-1);}}});var menuAimOptions={activate:openDesktopMenu,deactivate:closeDesktopMenu,submenuSelector:".dropdown-submenu",exitMenu:exitDesktopMenu,rowSelector:"> li"};if(robotshopTheme.helpers.isIE8()){menuAimOptions.tolerance=100;}
$(".mainTopMenuDesktop .level0 .dropdown-menu").menuAim(menuAimOptions);$('.header-container .headerMenuIcon').live('click',function(e){$('.mainTopMenuMobile').find('.dropdown-menu').css({height:'auto'}).removeClass('current-open');if($(this).hasClass('activeNav')){$(this).removeClass('activeNav');$(this).next().hide();}else{$(this).addClass('activeNav');$(this).next().show();$('.top-cart .block-title.expanded').removeClass('expanded');$('.top-cart .block-content').slideUp();}});$('.top-cart .icon-shopping-cart').live('click',function(e){if(robotshopTheme.helpers.getTrueWidth()<1024&&!robotshopTheme.$html.hasClass('ie8')){$('.headerMenuIcon.activeNav').trigger("click");}});$('.mainTopMenuMobile li.level0 .dropdown-toggle').live('click',function(e){$('.mainTopMenuMobile').find('.dropdown-menu').css({height:'auto'}).removeClass('current-open');if($(this).parent().hasClass('activeNav')){$('.nav li.level0.activeNav').removeClass('activeNav');}else{$('.nav li.level0.activeNav, .nav li.level1.activeNav, .MobileToggle.activeNav').removeClass('activeNav');$(this).parent().addClass('activeNav');$('html, body').animate({scrollTop:$(this).offset().top},500);}
e.stopImmediatePropagation();});$('.mainTopMenuMobile li.level1.dropdown-submenu .MobileToggle a').live('click',function(){if($(this).parent().parent().hasClass('activeNav')){$(this).parents("li:eq(0)").removeClass('activeNav');}else{$(this).parent().parent().siblings('li.level1.activeNav').removeClass('activeNav');$(this).parent().parent().addClass('activeNav');$('html, body').animate({scrollTop:$(this).offset().top},500);}});$('.mainTopMenuMobile li.level2.dropdown-submenu .MobileToggle a').live('click',function(e){if($(this).parent().hasClass('activeNav')){$('.nav li.level2 .activeNav').removeClass('activeNav');}else{$('.nav li.level2 .activeNav').removeClass('activeNav');$(this).parent().addClass('activeNav');$('html, body').animate({scrollTop:$(this).offset().top},500);}});$('#topCartBlock').click(function(){if(robotshopTheme.helpers.getTrueWidth()<1024&&!robotshopTheme.$html.hasClass('ie8')&&!robotshopTheme.$body.hasClass('ie8')){if($('#topCartBlock .block-title').hasClass('expanded')){$('html, body').animate({scrollTop:$('.TopHeaderPanel').offset().top+66},500);}}});}
var checkResize=function(){if(robotshopTheme.helpers.getTrueWidth()==local.checkResizeWidth){return;}
manageMenuClass();$('.header-container .Menu .nav, .Menu .dropdown-menu, ul.nav li.level2').css('display','');$('ul.nav li.level2.dropdown-submenu a').next().css('display','');$('.header-container .headerMenuIcon, .nav li.level0.activeNav').removeClass('activeNav');$('.MobileToggle').removeClass('activeNav');local.checkResizeWidth=robotshopTheme.helpers.getTrueWidth();};var initMainMenu=function(){setTopMenu();manageMenuClass();local.checkResizeWidth=robotshopTheme.helpers.getTrueWidth();if(!robotshopTheme.$html.hasClass('ie8')){robotshopTheme.$window.on("resize",checkResize);}};var init=function(){initMainMenu();};robotshopTheme.$document.ready(function(){init();});return public;};robotshopTheme.header=function(context){var window=context.window;var document=context.document;var $=context.$;var public={},local={},helpers={};var initSearchButton=function(){$('#search_mini_form .header-form-search-td-1').on('click',function(event){event.preventDefault();$('#search_mini_form .header-form-search-td-2 .input-text').focus();});};var initAddToCartFreeShippingMessage=function(){var $messageArea=$('.add-to-cart-message-shipping');var $originalMessageArea=$('.topcart-estimate-btn .free-ship-message.move-to-banner');if($messageArea.length&&$originalMessageArea.length){$messageArea.html($originalMessageArea.html());}};var init=function(){initSearchButton();initAddToCartFreeShippingMessage();};robotshopTheme.$document.ready(function(){init();});return public;};robotshopTheme.app=(function(window,document,$){appContext={'window':window,'document':document,'$':$};var public={},local={},helpers={};var routeMagentoPage=function(){switch(robotshopTheme.helpers.getCurrentPage()){case 'home':return public.home=robotshopTheme.home(appContext);break;case 'category':return public.category=robotshopTheme.category(appContext);break;case 'product':return public.product=robotshopTheme.product(appContext);break;case 'cart':return public.cart=robotshopTheme.cart(appContext);break;case 'checkout':return public.checkout=robotshopTheme.checkout(appContext);break;}};var init=function(){$('[data-image-lazy-loaded]').Lazy({afterLoad:function(element){$(element).addClass('lazy-load-completed');robotshopTheme.$window.trigger("lazyLoadAfterLoad",[element]);},placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bind:"event",threshold:900});$('[data-ga-track]').gatrack();public.currentPage=routeMagentoPage();public.header=robotshopTheme.header(appContext);public.menu=robotshopTheme.menu(appContext);public.accordions=robotshopTheme.accordions(appContext);public.popup=robotshopTheme.popup(appContext);if($('.scroll-to-top').length){$(window).scroll(function(){if($(this).scrollTop()>600){$('.scroll-to-top').fadeIn();}else{$('.scroll-to-top').fadeOut();}});$('.scroll-to-top').click(function(){$('html, body').animate({scrollTop:0},500);return false;});}}
robotshopTheme.$document.ready(function(){init();});robotshopTheme.$window.on("load",function(){robotshopTheme.$window.trigger('resize');});return public;})(robotshopTheme.window,robotshopTheme.document,robotshopTheme.jQuery);